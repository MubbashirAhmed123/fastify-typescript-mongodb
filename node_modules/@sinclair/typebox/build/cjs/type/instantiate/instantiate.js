"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.Instantiate = Instantiate;
const index_1 = require("../never/index");
const index_2 = require("../readonly-optional/index");
const index_3 = require("../readonly/index");
const index_4 = require("../optional/index");
const index_5 = require("../remap/index");
const KindGuard = require("../guard/kind");
// prettier-ignore
function InstantiateArgument(argument, type) {
    const isReadonly = KindGuard.IsReadonly(argument);
    const isOptional = KindGuard.IsOptional(argument);
    return (isReadonly && isOptional ? (0, index_2.ReadonlyOptional)(type) :
        isReadonly && !isOptional ? (0, index_3.Readonly)(type) :
            !isReadonly && isOptional ? (0, index_4.Optional)(type) :
                type);
}
/** `[JavaScript]` Instantiates a type with the given parameters */
// prettier-ignore
function Instantiate(type, args) {
    return (0, index_5.Remap)(type, (type) => {
        return KindGuard.IsArgument(type)
            ? type.index in args
                ? KindGuard.IsSchema(args[type.index])
                    ? InstantiateArgument(type, args[type.index])
                    : (0, index_1.Never)()
                : (0, index_1.Never)()
            : type;
    });
}
